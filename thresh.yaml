# --------------integration wtih crowdsourcing tools------------------
crowdsource: "prolific"       # Use "prolific" or other crowdsource options here, "custom" for your own database setup
prolific_completion_code: THRESH_001
disable:
- upload
# - download
# --------------------------------
database: 
    type: firebase
    project_id: meta-eval-pilot
    url: https://meta-eval-pilot.firebaseio.com/
    collection: thresh     # (default: thresh) The database to use, this must exist on the firestore
    document: annotations   # (default: annotation) The document to use, this must exist on the firestore
    field: annotation_set_1  # The document field to store annotations, we recommend changing this value between data collection runs

# --------------------------------
template_name: demo
template_label: Crowdsourcing Demo

font_size:
  source: 16
  target: 16

interface_text:
  typology:
    source_label: "Original"
    target_label: "Simplification"

display:
  - side-by-side
  - text-side-by-side
  - disable-lines

# ------------------------------- Reusable chunks -----------------------------------------------------------------------------

# Simplicity effectiveness options
simplicity_scale: &simplicity_scale
  - name: more_complex
    label: "More Complex"
  - name: ineffective
    label: "No Real Difference"
  - name: simpler
    label: "Simpler"
  # - name: much_simpler
  #   label: "Much Simpler"
  - name: NA
    label: "Not Targeted"



# info addition options
info_addition_accuracy: &info_addition_accuracy
  - name: accurate
    label: "Accurate"
  - name: unverifiable
    label: "Unverifiable"
  - name: incorrect
    label: "Incorrect or Contradictory"


info_addition_helpfulness: &info_addition_helpfulness
  - name: unhelpful
    label: "-1 Confusing or Unhelpful"
    question: "Is the added information accurate and grounded?"
    options: *info_addition_accuracy
  - name: neutral
    label: "0 Neutral"
    question: "Is the added information accurate and grounded?"
    options: *info_addition_accuracy
  - name: somewhat_helpful
    label: "+1 Somewhat helpful"
    question: "Is the added information accurate and grounded?"
    options: *info_addition_accuracy
  - name: very_helpful
    label: "+2 Very helpful"
    question: "Is the added information accurate and grounded?"
    options: *info_addition_accuracy
  

    
info_addition_types: &info_addition_types
  - name: clarification
    label: "Definition or Clarification"
    question: "How helpful is the added content for understanding the original?"
    options: *info_addition_helpfulness

  - name: example
    label: "Example or Illustration"
    question: "How helpful is the added content for understanding the original?"
    options: *info_addition_helpfulness

  - name: overview
    label: "Overview or Preview"
    question: "How helpful is the added content for understanding the original?"
    options: *info_addition_helpfulness

  - name: discourse_marker
    label: "Discourse / Structural Marker"
    question: "How helpful is the added content for understanding the original?"
    options: *info_addition_helpfulness

  - name: evaluative
    label: "Interpretive or Evaluative Comment"
    question: "How helpful is the added content for understanding the original?"
    options: *info_addition_helpfulness

  - name: other
    label: "Other (Describe in Comment)"
    question: "How helpful is the added content for understanding the original?"
    options: *info_addition_helpfulness


# info distortion options
meaning_distortion_options: &meaning_distortion_options
  - name: none
    label: "None"
  - name: minor_deviation
    label: "Details/Nuance"
  - name: major_deviation
    label: "Factual/Major"


# Reusable edit category options
edit_categories: &edit_categories
  - name: lexical
    label: "Lexical"
  - name: syntactic
    label: "Syntactic"
  - name: discourse
    label: "Discourse / Structural"
  - name: informational
    label: "Informational"
  - name: style
    label: "Style / Tone"
  - name: other
    label: "Other / Unclear"




# ================================================== Edits ===================================================
edits:
  - name: simplified_flag
    label: "Simplified Only"
    enable_output: true
    type: multi_span
    color: yellow
    icon: fa-exclamation
    annotation:
      - name: issue_type
        question: "What is the main issue with this span in the simplified text?"
        options:
          - name: unnatural
            label: "Unnatural"
          - name: repetitive
            label: "Repetitive"
          - name: vague
            label: "Vague"
          - name: unclear
            label: "Unclear"
          - name: disjointed
            label: "Disjointed"
          - name: illogical
            label: "Illogical"
          - name: incorrect
            label: "Incorrect"
          - name: other
            label: "Other"

      - name: severity
        label: "Severity"
        question: "How serious is the issue?"
        options:
          - name: minor
            label: "1 - Minor"
          - name: moderate
            label: "2 - Noticeable"
          - name: severe
            label: "3 - Disrupts understanding"
          

      - name: simplified_flag_comment
        label: "Comment (Optional)"
        question: "Any brief remarks about this span?"
        options: textarea

# --------------------------
  - name: omission
    label: "Omission"
    enable_input: true
    type: multi_span
    color: red
    icon: fa-circle-minus
    annotation:
      - name: omission_vocab_simplicity
        question: "Does it remove or replace hard words with simpler ones?"
        options: *simplicity_scale
      - name: omission_syntax_simplicity
        question: "Does it simplify the sentence structure?"
        options: *simplicity_scale
      - name: omission_organization_simplicity
        question: "Does it improve the flow or logical structure of the sentence?"
        options: *simplicity_scale
      - name: omission_style_simplicity
        question: "Does it make the tone sound more natural or conversational?"
        options: *simplicity_scale

      - name: omission_faithfulness
        label: "Faithfulness to Original"
        question: "How much information was lost or changed?"
        options: *meaning_distortion_options

# --------------------------
  - name: insertion
    label: "Insertion"
    enable_output: true
    type: multi_span
    color: green
    icon: fa-flask
    annotation:
      - name: insertion_vocab_simplicity
        question: "Does it remove or replace hard words with simpler ones?"
        options: *simplicity_scale
      - name: insertion_syntax_simplicity
        question: "Does it simplify the sentence structure?"
        options: *simplicity_scale
      - name: insertion_organization_simplicity
        question: "Does it improve the flow or logical structure of the sentence?"
        options: *simplicity_scale
      - name: insertion_style_simplicity
        question: "Does it make the tone sound more natural or conversational?"
        options: *simplicity_scale
      - name: new_info_added
        label: "New Information"
        question: "Does it introduce genuinely new information not stated or implied anywhere in the original?"
        options:
          - name: no_new_info
            label: "No"
          - name: new_info_present
            label: "Yes"
            question: "What type of new information was added?"
            options: *info_addition_types

# --------------------------
  - name: substitution
    label: "Substitution"
    enable_input: true
    enable_output: true
    type: multi_span
    color: blue
    icon: fa-sort
    annotation:
      - name: substitution_vocab_simplicity
        question: "Does it remove or replace hard words with simpler ones?"
        options: *simplicity_scale
      - name: substitution_syntax_simplicity
        question: "Does it simplify the sentence structure?"
        options: *simplicity_scale
      - name: substitution_organization_simplicity
        question: "Does it improve the flow or logical structure of the sentence?"
        options: *simplicity_scale
      - name: substitution_style_simplicity
        question: "Does it make the tone sound more natural or conversational?"
        options: *simplicity_scale
      
      - name: substitution_faithfulness
        label: "Faithfulness to Original"
        question: "How much information was lost or changed?"
        options: *meaning_distortion_options

      - name: new_info_added
        label: "New Information"
        question: "Does it introduce genuinely new information not stated or implied anywhere in the original?"
        options:
          - name: no_new_info
            label: "No"
          - name: new_info_present
            label: "Yes"
            question: "What type of new information was added?"
            options: *info_addition_types

# --------------------------
  - name: structure
    label: "Structure"
    enable_output: true
    type: multi_span
    color: orange
    icon: fa-align-justify
    annotation:
    - name: structure_vocab_simplicity
      question: "Did this edit simplify the vocabulary (e.g., removing complex, rare, or abstract words)?"
      options: *simplicity_scale

    - name: structure_syntax_simplicity
      question: "Did this edit simplify the sentence structure (e.g., shorter sentence, fewer clauses)?"
      options: *simplicity_scale

    - name: structure_organization_simplicity
      question: "Did this edit improve the flow or logical structure of the sentence?"
      options: *simplicity_scale

    - name: structure_style_simplicity
      question: "Did this edit make the tone or style more direct, conversational, or accessible?"
      options: *simplicity_scale

    - name: structure_faithfulness
      label: "Faithfulness to Original"
      question: "How much information was lost or changed due to this edit?"
      options: *meaning_distortion_options

    - name: new_info_added
      label: "New Information"
      question: "Does this edit introduce genuinely new information not stated or implied anywhere in the original?"
      options:
        - name: no_new_info
          label: "No"
        - name: new_info_present
          label: "Yes"
          question: "What type of new information was added?"
          options: *info_addition_types